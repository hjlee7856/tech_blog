# 빙고 게임 테스트 시나리오

## 테스트 환경 설정

- 3개 이상의 브라우저 탭/창 사용
- 각 탭에서 다른 계정으로 로그인
- 권장: Chrome, Firefox, Edge 등 다른 브라우저 사용

---

## 시나리오 1: 기본 게임 플레이 (3명)

### 준비

1. **플레이어 A, B, C** 로그인
2. 각자 보드 25칸 채우기 (랜덤 채우기 버튼 사용 가능)
3. 각자 "준비하기" 버튼 클릭

### 예상 결과

- ✅ 3명 모두 준비 완료 시 자동으로 게임 시작
- ✅ 각 플레이어에게 랜덤 순서(1, 2, 3) 부여
- ✅ 순서 1번 플레이어의 턴으로 시작

### 게임 진행

1. 순서 1번 플레이어가 이름 선택
   - ✅ 선택 시 효과음 재생
   - ✅ 선택한 이름이 drawn_names에 추가
   - ✅ 자동으로 순서 2번으로 턴 넘어감

2. 순서 2번 플레이어 턴
   - ✅ 내 턴 알림 효과음 재생
   - ✅ "이름을 뽑을 차례입니다!" 메시지 표시
   - ✅ 보드에서 이름 선택 가능

3. 순서 3번 → 순서 1번 순환
   - ✅ 3번 턴 종료 후 다시 1번으로 돌아감
   - ✅ 턴 정보 정확히 표시 ("현재 턴: XXX → 다음 턴: YYY")

### 점수 및 순위

1. 이름이 뽑힐 때마다
   - ✅ 각 플레이어의 빙고 줄 수 자동 계산
   - ✅ 실시간 순위 업데이트
   - ✅ 같은 점수면 공동 순위로 표시 (예: "1위 - 플레이어A, 플레이어B - 5줄")

2. 12줄 완성 (25칸 모두 채움)
   - ✅ 게임 종료
   - ✅ 승자 표시
   - ✅ 최종 순위 모달 표시

---

## 시나리오 2: 오프라인 플레이어 처리

### 준비

1. 플레이어 A, B, C로 게임 시작
2. 순서: A(1) → B(2) → C(3)

### 테스트

1. **플레이어 B의 턴에서 B가 오프라인**
   - B의 브라우저 탭 닫기 또는 네트워크 차단
   - 30초 대기 (오프라인 체크 주기)

### 예상 결과

- ✅ B가 오프라인으로 표시됨
- ✅ B의 턴이 자동으로 스킵됨
- ✅ A → ~~B~~ → C → A 순서로 진행
- ✅ 실시간 순위에서 B 제외됨

### 재접속

1. B가 다시 접속

### 예상 결과

- ✅ B가 온라인으로 표시됨
- ✅ 다음 턴부터 B 포함 (A → B → C)
- ✅ 실시간 순위에 B 다시 표시

---

## 시나리오 3: 중간 난입 (4번째 플레이어)

### 준비

1. 플레이어 A, B, C로 게임 시작 및 진행 중
2. 몇 턴 진행 (예: 5개 이름 뽑음)

### 테스트

1. **플레이어 D 로그인**
2. D가 보드 25칸 채우기
3. "게임 참여하기" 버튼 클릭

### 예상 결과

- ✅ D에게 순서 4 부여
- ✅ 턴 순서: A(1) → B(2) → C(3) → D(4) → A(1)...
- ✅ 이미 뽑힌 이름들이 D의 보드에도 반영됨
- ✅ D의 점수 자동 계산
- ✅ 실시간 순위에 D 추가

---

## 시나리오 4: 혼자 남음 (게임 리셋)

### 준비

1. 플레이어 A, B, C로 게임 진행 중

### 테스트

1. **B와 C가 동시에 나감** (브라우저 닫기)
2. 30초 대기

### 예상 결과

- ✅ "혼자 남았습니다" 모달 표시 (3초간)
- ✅ 게임 자동 리셋
- ✅ 모든 플레이어 보드 초기화
- ✅ 점수 0으로 리셋
- ✅ 준비 상태 해제

---

## 시나리오 5: 공동 순위 표시

### 준비

1. 플레이어 A, B, C, D로 게임 시작
2. 의도적으로 같은 이름들을 보드에 배치

### 테스트

1. 특정 이름들을 뽑아서 A, B가 같은 점수(예: 5줄)가 되도록 함
2. C는 4줄, D는 3줄

### 예상 결과

- ✅ 실시간 순위 표시:
  ```
  1위 - 플레이어A, 플레이어B - 5줄
  3위 - 플레이어C - 4줄
  4위 - 플레이어D - 3줄
  ```
- ✅ 공동 1위인 경우 이름이 쉼표로 구분됨
- ✅ 다음 순위는 3위부터 시작 (2위 건너뜀)

---

## 시나리오 6: 동시 액션 (경쟁 조건)

### 준비

1. 플레이어 A, B, C로 게임 진행 중
2. A의 턴

### 테스트

1. **A가 이름을 선택하는 순간, B도 동시에 이름 선택 시도**

### 예상 결과

- ✅ A의 선택만 처리됨
- ✅ B의 선택은 무시됨 ("내 턴이 아님" 상태)
- ✅ `isNextTurnInProgress` 플래그로 중복 방지
- ✅ 데이터 일관성 유지

---

## 시나리오 7: 빠른 턴 진행

### 준비

1. 플레이어 A, B, C로 게임 시작

### 테스트

1. **각 플레이어가 최대한 빠르게 이름 선택**
2. 1초 이내에 연속으로 3번 선택

### 예상 결과

- ✅ 모든 선택이 정확히 처리됨
- ✅ 턴 순서 유지 (A → B → C → A)
- ✅ 점수 정확히 계산
- ✅ UI 업데이트 정상 작동

---

## 시나리오 8: 게임 초기화 (관리자)

### 준비

1. 관리자 계정으로 로그인
2. 다른 플레이어들과 게임 진행 중

### 테스트

1. **관리자가 "게임 초기화" 버튼 클릭**
2. 확인 모달에서 "초기화" 선택

### 예상 결과

- ✅ 모든 플레이어의 보드 초기화
- ✅ 점수 0으로 리셋
- ✅ 준비 상태 해제
- ✅ 뽑은 이름 목록 초기화
- ✅ 채팅 메시지 초기화
- ✅ 게임 대기 화면으로 전환

---

## 시나리오 9: 버튼 레이아웃 확인

### 테스트

1. 게임 대기 화면에서 버튼 배치 확인

### 예상 결과

- ✅ **왼쪽**: 게임 초기화(관리자만), 보드 초기화
- ✅ **오른쪽**: 랜덤 채우기, 준비하기
- ✅ 게임 시작 후 모든 버튼 사라짐

---

## 시나리오 10: 효과음 확인

### 테스트

1. 내 턴이 되었을 때
   - ✅ 상승하는 톤의 알림음 재생 (C5 → E5 → G5)

2. 이름 선택 시
   - ✅ 짧은 클릭 효과음 재생 (A5)

3. 효과음 재생 실패 시
   - ✅ 콘솔에 경고 메시지만 출력
   - ✅ 게임 진행에 영향 없음

---

## 버그 체크리스트

### 턴 관리

- [ ] 자기 턴이 부당하게 스킵되지 않는가?
- [ ] 오프라인 플레이어 턴이 자동으로 스킵되는가?
- [ ] 턴 순환이 정확한가? (1→2→3→1)
- [ ] 중간 난입 플레이어가 턴 순서에 정확히 추가되는가?

### 점수 및 순위

- [ ] 빙고 줄 수가 정확히 계산되는가?
- [ ] 공동 순위가 올바르게 표시되는가?
- [ ] 실시간 순위가 즉시 업데이트되는가?
- [ ] 12줄 완성 시 게임이 종료되는가?

### 온라인 상태

- [ ] 하트비트가 정상 작동하는가? (10초마다)
- [ ] 오프라인 체크가 작동하는가? (15초마다, 30초 임계값)
- [ ] 재접속 시 온라인 상태로 복구되는가?

### UI/UX

- [ ] 버튼 레이아웃이 올바른가? (왼쪽/오른쪽)
- [ ] 게임 시작 후 버튼이 사라지는가?
- [ ] 효과음이 재생되는가?
- [ ] 모달이 정확한 타이밍에 표시되는가?

### 경쟁 조건

- [ ] 동시 선택 시 하나만 처리되는가?
- [ ] 빠른 연속 선택이 정상 작동하는가?
- [ ] 데이터 일관성이 유지되는가?

---

## 성능 테스트

### 5명 이상 동시 플레이

1. 5~10명이 동시에 게임 진행
2. 모든 기능이 정상 작동하는지 확인
3. 지연 시간 측정

### 장시간 플레이

1. 1시간 이상 게임 진행
2. 메모리 누수 확인
3. 연결 안정성 확인

---

## 알려진 제한사항

1. **효과음**: Web Audio API 사용으로 일부 브라우저에서 제한될 수 있음
2. **오프라인 감지**: 30초 임계값으로 즉시 감지되지 않음
3. **혼자 남음 리셋**: 현재 비활성화됨 (사용자 요청)

---

## 테스트 완료 체크

- [ ] 시나리오 1: 기본 게임 플레이 (3명)
- [ ] 시나리오 2: 오프라인 플레이어 처리
- [ ] 시나리오 3: 중간 난입 (4번째 플레이어)
- [ ] 시나리오 4: 혼자 남음 (현재 비활성화)
- [ ] 시나리오 5: 공동 순위 표시
- [ ] 시나리오 6: 동시 액션 (경쟁 조건)
- [ ] 시나리오 7: 빠른 턴 진행
- [ ] 시나리오 8: 게임 초기화 (관리자)
- [ ] 시나리오 9: 버튼 레이아웃 확인
- [ ] 시나리오 10: 효과음 확인
